{% extends "tasks/base.html" %}
{% load static %}

{% block title %}
Task Manager
{% endblock %}

{% block content %}

<div class="container mt-5">
<h2>Tasks by Status</h2>
<p style="margin-top: 20px;">
    A task manager helps you stay organized by providing a centralized platform to create, update, and track tasks effortlessly. 
    Whether you're managing personal to-do lists or collaborating with a team, it ensures every task is accounted for and completed on time. 
    With features like prioritization, deadlines, and reminders, a task manager streamlines your workflow and boosts productivity.
</p>

    <div style="display: flex; justify-content: space-between; margin-top: 20px; align-items: stretch; gap: 10px;">

        <!-- To Do Section - Unassigned Tasks -->
        <div style="flex: 1; display: flex; flex-direction: column;">
            <div class="card" style="height: 100%;">
                <div class="card-header">
                    Unassigned
                </div>
                <div class="card-body">
                    {% for task in unassigned_tasks %}
                    <div class="card my-2">
                        <div class="card-body">
                            <h6 class="card-title"><a href="{% url 'tasks:task-detail' task.id %}"> {{ task.title }} </a></h6>
                            <div style="display: flex; align-items: center;">
                                <img src="{% static 'images/default_user.png' %}" alt="Notification" class="img-thumbnail" style="width: 40px; height: 40px; margin-right: 10px;">
                                <p style="margin: 0;">Owner: {{ task.owner.username|default:"None" }}</p>
                            </div>
                        </div>
                    </div>
                    {% empty %}
                    <!-- Card displayed when no tasks are in progress -->
                    <div class="card my-2" style="border: 1px solidrgb(154, 154, 154); box-shadow: 0 0 10px rgba(106, 17, 203, 0.2);">
                        <div class="card-body" style="text-align: center;">
                            <p style="margin: 0; font-style: italic;">No tasks are currently Unassigned.</p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <!-- In Progress Tasks Section -->
        <div style="flex: 1; display: flex; flex-direction: column;">
            <div class="card" style="height: 100%;">
                <div class="card-header">
                    In Progress
                </div>
                <div class="card-body">
                    {% for task in in_progress_tasks %}
                    <div class="card my-2">
                        <div class="card-body">
                            <h6 class="card-title"><a href="{% url 'tasks:task-detail' task.id %}"> {{ task.title }} </a></h6>
                            <div style="display: flex; align-items: center;">
                                <img src="{% static 'images/default_user.png' %}" alt="Notification" class="img-thumbnail" style="width: 40px; height: 40px; margin-right: 10px;">
                                <p style="margin: 0;">Owner: {{ task.owner.username|default:"None" }}</p>
                            </div>
                        </div>
                    </div>
                    {% empty %}
                    <!-- Card displayed when no tasks are in progress -->
                    <div class="card my-2" style="border: 1px solidrgb(154, 154, 154); box-shadow: 0 0 10px rgba(106, 17, 203, 0.2);">
                        <div class="card-body" style="text-align: center;">
                            <p style="margin: 0; font-style: italic;">No tasks are currently In Progress.</p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <!-- Completed Tasks Section -->
        <div style="flex: 1; display: flex; flex-direction: column;">
            <div class="card" style="height: 100%;">
                <div class="card-header">
                    Completed
                </div>
                <div class="card-body">
                    {% for task in done_tasks %}
                    <div class="card my-2">
                        <div class="card-body">
                            <h6 class="card-title"><a href="{% url 'tasks:task-detail' task.id %}"> {{ task.title }} </a></h6>
                            <div style="display: flex; align-items: center;">
                                <img src="{% static 'images/default_user.png' %}" alt="Notification" class="img-thumbnail" style="width: 40px; height: 40px; margin-right: 10px;">
                                <p style="margin: 0;">Owner: {{ task.owner.username|default:"None" }}</p>
                            </div>
                        </div>
                    </div>
                    {% empty %}
                    <!-- Card displayed when no tasks are in progress -->
                    <div class="card my-2" style="border: 1px solidrgb(154, 154, 154); box-shadow: 0 0 10px rgba(106, 17, 203, 0.2);">
                        <div class="card-body" style="text-align: center;">
                            <p style="margin: 0; font-style: italic;">No tasks are Completed yet.</p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

    </div>
</div>

{% endblock %}
